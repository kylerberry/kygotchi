$("document").ready(function(){Kygotchi.init({feed:"#feed",play:"#play",reset:"#reset",toggleSleep:"#toggleSleep",medicine:"#medicine"})});var Kygotchi=function(){var a=localStorage.getItem("gotchi")?JSON.parse(localStorage.getItem("gotchi")):{},b={birthday:new Date("September 22, 1987"),isSleeping:!1,foodLevel:10,restLevel:10,happinessLevel:10,last_interaction:"date"},c=$.extend(c,b,a),d={},e=15,f=1e3,g=null,h=2;c.init=function(a){d=$.extend(d,a),$.each(d,function(a,b){$(b).on("click",function(){c[a]()})}),g=l()},c.toggleSleep=function(){c.isSleeping=!c.isSleeping,$(d.toggleSleep).html(c.isSleeping?"Wake":"Sleep"),m()},c.die=function(){clearInterval(g),localStorage.removeItem("gotchi"),k()},c.feed=function(){c.isSleeping||(c.foodLevel<e?c.foodLevel++:console.log("barf!")),m()},c.play=function(){c.isSleeping?console.log("happy dreams"):c.happinessLevel<e&&c.happinessLevel++,m()},c.medicine=function(){c.calcHealth()<e&&h&&!c.isSleeping&&(c.happinessLevel<e&&c.happinessLevel++,c.restLevel<e&&c.restLevel++,h--),m()},c.reset=function(){c=$.extend(c,b),clearInterval(g),c.init(d)},c.isAlive=function(){return Boolean(c.calcHealth()>2&&c.foodLevel)},c.calcHealth=function(){var a=(c.foodLevel+c.happinessLevel+c.restLevel)/3;return a>=e?e:Math.floor(a)},c.save=function(){localStorage.setItem("gotchi",JSON.stringify(i(c,Object.keys(b))))};var i=function(a,b){var c={};return b.forEach(function(b){a.hasOwnProperty(b)&&(c[b]=a[b])}),c},j=function(){c.foodLevel&&c.foodLevel--,c.isSleeping?(c.restLevel<e&&c.restLevel++,c.happinessLevel&&c.happinessLevel--):(c.restLevel&&c.restLevel--,c.happinessLevel&&c.happinessLevel--),c.isAlive()?c.save():c.die()},k=function(){$.each(d,function(a,b){"reset"!==a&&$(b).off()})},l=function(){return m(),setInterval(function(){j(),m()},f)},m=function(){$("#debug").html("healthLevel: "+c.calcHealth()+"<br/>foodLevel: "+c.foodLevel+"<br/>happinessLevel: "+c.happinessLevel+"<br/>restLevel: "+c.restLevel+"<br/>")};return c}(),Animate=function(){return this}();
//# sourceMappingURL=built.min.js.map