<<<<<<< Updated upstream
$("document").ready(function(){Kygotchi.init({gotchi:".ky",bindings:{feed:"#feed",play:"#play",reset:"#reset",toggleSleep:"#toggleSleep",medicine:"#medicine"}})});var Animate=function(){var a="",b=null;return this.init=function(c){a=$(c),a.hasClass("dead")&&a.removeClass("dead"),b=setInterval(function(){Math.floor(10*Math.random())%4==0&&this.blink()},1e3)},this.blink=function(){a.addClass("blink"),setTimeout(function(){a.removeClass("blink")},200)},this.die=function(){clearInterval(b),a.addClass("dead")},this}(),Kygotchi=function(a){var b=localStorage.getItem("gotchi")?JSON.parse(localStorage.getItem("gotchi")):{},c={birthday:new Date("September 22, 1987"),isSleeping:!1,foodLevel:10,restLevel:10,happinessLevel:10,last_interaction:"date"},d=$.extend(d,c,b),e={},f=15,g=1e3,h=null,i=2,j={};d.init=function(b){e=$.extend(e,b.bindings),$.each(e,function(a,b){$(b).on("click",d[a])}),h=n(),j=b.gotchi?b.gotchi:j,a.init(j)},d.toggleSleep=function(){d.isSleeping=!d.isSleeping,$(e.toggleSleep).html(d.isSleeping?"Wake":"Sleep"),o()},d.die=function(){a.die(),clearInterval(h),localStorage.removeItem("gotchi"),m()},d.feed=function(){d.isSleeping||(d.foodLevel<f?d.foodLevel++:console.log("barf!")),o()},d.play=function(){d.isSleeping?console.log("happy dreams"):d.happinessLevel<f&&d.happinessLevel++,o()},d.medicine=function(){d.calcHealth()<f&&i&&!d.isSleeping&&(d.happinessLevel<f&&d.happinessLevel++,d.restLevel<f&&d.restLevel++,i--),o()},d.reset=function(){d=$.extend(d,c),clearInterval(h),m(),d.init(e)},d.isAlive=function(){return Boolean(d.calcHealth()>2&&d.foodLevel)},d.calcHealth=function(){var a=(d.foodLevel+d.happinessLevel+d.restLevel)/3;return a>=f?f:Math.floor(a)},d.save=function(){localStorage.setItem("gotchi",JSON.stringify(k(d,Object.keys(c))))};var k=function(a,b){var c={};return b.forEach(function(b){a.hasOwnProperty(b)&&(c[b]=a[b])}),c},l=function(){d.foodLevel&&d.foodLevel--,d.isSleeping?(d.restLevel<f&&d.restLevel++,d.happinessLevel&&d.happinessLevel--):(d.restLevel&&d.restLevel--,d.happinessLevel&&d.happinessLevel--),d.isAlive()?d.save():d.die()},m=function(){$.each(e,function(a,b){"reset"!==a&&$(b).off()})},n=function(){return o(),setInterval(function(){l(),o()},g)},o=function(){$("#debug").html("healthLevel: "+d.calcHealth()+"<br/>foodLevel: "+d.foodLevel+"<br/>happinessLevel: "+d.happinessLevel+"<br/>restLevel: "+d.restLevel+"<br/>")};return d}(Animate||{});
=======
<<<<<<< Updated upstream
$("document").ready(function(){Kygotchi.init({feed:"#feed",play:"#play",reset:"#reset",toggleSleep:"#toggleSleep",medicine:"#medicine"})});var Kygotchi=function(){var a=localStorage.getItem("gotchi")?JSON.parse(localStorage.getItem("gotchi")):{},b={birthday:new Date("September 22, 1987"),isSleeping:!1,foodLevel:10,restLevel:10,happinessLevel:10,last_interaction:"date"},c=$.extend(c,b,a),d={},e=15,f=1e3,g=null,h=2;c.init=function(a){d=$.extend(d,a),$.each(d,function(a,b){$(b).on("click",function(){c[a]()})}),g=l()},c.toggleSleep=function(){c.isSleeping=!c.isSleeping,$(d.toggleSleep).html(c.isSleeping?"Wake":"Sleep"),m()},c.die=function(){clearInterval(g),localStorage.removeItem("gotchi"),k()},c.feed=function(){c.isSleeping||(c.foodLevel<e?c.foodLevel++:console.log("barf!")),m()},c.play=function(){c.isSleeping?console.log("happy dreams"):c.happinessLevel<e&&c.happinessLevel++,m()},c.medicine=function(){c.calcHealth()<e&&h&&!c.isSleeping&&(c.happinessLevel<e&&c.happinessLevel++,c.restLevel<e&&c.restLevel++,h--),m()},c.reset=function(){c=$.extend(c,b),clearInterval(g),c.init(d)},c.isAlive=function(){return Boolean(c.calcHealth()>2&&c.foodLevel)},c.calcHealth=function(){var a=(c.foodLevel+c.happinessLevel+c.restLevel)/3;return a>=e?e:Math.floor(a)},c.save=function(){localStorage.setItem("gotchi",JSON.stringify(i(c,Object.keys(b))))};var i=function(a,b){var c={};return b.forEach(function(b){a.hasOwnProperty(b)&&(c[b]=a[b])}),c},j=function(){c.foodLevel&&c.foodLevel--,c.isSleeping?(c.restLevel<e&&c.restLevel++,c.happinessLevel&&c.happinessLevel--):(c.restLevel&&c.restLevel--,c.happinessLevel&&c.happinessLevel--),c.isAlive()?c.save():c.die()},k=function(){$.each(d,function(a,b){"reset"!==a&&$(b).off()})},l=function(){return m(),setInterval(function(){j(),m()},f)},m=function(){$("#debug").html("healthLevel: "+c.calcHealth()+"<br/>foodLevel: "+c.foodLevel+"<br/>happinessLevel: "+c.happinessLevel+"<br/>restLevel: "+c.restLevel+"<br/>")};return c}(),Animate=function(){return this}();
=======
$("document").ready(function(){Kygotchi.init({gotchi:".ky",bindings:{feed:"#feed",play:"#play",reset:"#reset",toggleSleep:"#toggleSleep",medicine:"#medicine"}})});var Animate=function(){var a="",b=null;return this.init=function(c){a=$(c),a.hasClass("dead")&&a.removeClass("dead"),b&&clearInterval(b),b=setInterval(function(){Math.floor(10*Math.random())%4==0&&this.blink()},1e3)},this.blink=function(){a.addClass("blink"),setTimeout(function(){a.removeClass("blink")},200)},this.emotion=function(b){b||b===c||(a.removeClass(),a.addClass("ky")),a.hasClass(b)||(a.removeClass(),a.addClass("ky"),b&&a.addClass(b));var c=b},this.die=function(){clearInterval(b),a.removeClass(),a.addClass("ky dead")},this}(),Kygotchi=function(a){var b=localStorage.getItem("gotchi")?JSON.parse(localStorage.getItem("gotchi")):{},c={birthday:new Date("September 22, 1987"),isSleeping:!1,foodLevel:10,restLevel:10,happinessLevel:10,last_interaction:"date"},d=$.extend(d,c,b),e={},f=15,g=1e3,h=null,i=2,j={};d.init=function(b){e=$.extend(e,b.bindings),$.each(e,function(a,b){$(b).on("click",d[a])}),h=n(),j=b.gotchi?b.gotchi:j,a.init(j)},d.toggleSleep=function(){d.isSleeping=!d.isSleeping,$(e.toggleSleep).html(d.isSleeping?"Wake":"Sleep"),o()},d.die=function(){a.die(),clearInterval(h),localStorage.removeItem("gotchi"),m()},d.feed=function(){d.isSleeping||(d.foodLevel<f?d.foodLevel++:console.log("barf!")),o()},d.play=function(){d.isSleeping?console.log("happy dreams"):d.happinessLevel<f&&d.happinessLevel++,o()},d.medicine=function(){d.calcHealth()<f&&i&&!d.isSleeping&&(d.happinessLevel<f&&d.happinessLevel++,d.restLevel<f&&d.restLevel++,i--),o()},d.reset=function(){d=$.extend(d,c),clearInterval(h),m(),d.init(e)},d.isAlive=function(){return Boolean(d.calcHealth()>2&&d.foodLevel)},d.calcHealth=function(){var a=(d.foodLevel+d.happinessLevel+d.restLevel)/3;return a>=f?f:Math.floor(a)},d.save=function(){localStorage.setItem("gotchi",JSON.stringify(k(d,Object.keys(c))))};var k=function(a,b){var c={};return b.forEach(function(b){a.hasOwnProperty(b)&&(c[b]=a[b])}),c},l=function(){d.foodLevel&&d.foodLevel--,d.isSleeping?(d.restLevel<f&&d.restLevel++,d.happinessLevel&&d.happinessLevel--):(d.restLevel&&d.restLevel--,d.happinessLevel&&d.happinessLevel--),d.isAlive()?(d.updateMeters(),d.save()):d.die()};d.updateMeters=function(){var b=d.calcHealth();b>8?a.emotion("happy"):5>=b?a.emotion("sad"):b>5&&8>=b&&a.emotion()};var m=function(){$.each(e,function(a,b){"reset"!==a&&$(b).off()})},n=function(){return o(),setInterval(function(){l(),o()},g)},o=function(){$("#debug").html("healthLevel: "+d.calcHealth()+"<br/>foodLevel: "+d.foodLevel+"<br/>happinessLevel: "+d.happinessLevel+"<br/>restLevel: "+d.restLevel+"<br/>")};return d}(Animate||{});
>>>>>>> Stashed changes
>>>>>>> Stashed changes
//# sourceMappingURL=built.min.js.map